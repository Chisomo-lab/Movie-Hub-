<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MovieHub Pro</title>
<style>
  body {
    margin:0; font-family: Arial,sans-serif; background:#111; color:#fff;
  }
  header {
    text-align:center; padding:20px;
  }
  header h1 { color:#e50914; margin:0; }
  #searchBar { width:250px; padding:6px; border-radius:5px; border:none; margin-bottom:20px; }
  .categoriesGrid { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; margin-bottom:20px; }
  .categoryCard { background:#222; padding:10px; border-radius:8px; width:160px; text-align:center; cursor:pointer; transition:0.3s; }
  .categoryCard:hover { background:#b20710; }
  .categoryCard img { width:100%; height:120px; object-fit:cover; border-radius:5px; }
  .movieGrid { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:15px; padding:20px; }
  .movieCard { background:#222; padding:10px; border-radius:8px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.5); }
  .movieCard img { width:100%; height:250px; object-fit:cover; border-radius:5px; }
  .btn { display:inline-block; padding:8px 12px; margin:5px; border:none; border-radius:5px; background:#e50914; color:#fff; cursor:pointer; text-decoration:none; font-size:14px; }
  .btn:hover { background:#b20710; }
  #adsense { text-align:center; margin:20px 0; }
</style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" crossorigin="anonymous"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-3798659133542290",
    enable_page_level_ads: true
  });
</script>
</head>
<body>

<header>
  <h1>ðŸŽ¬ MovieHub Pro</h1>
  <input type="text" id="searchBar" placeholder="Search movies, cartoons, anime..." />
</header>

<div id="adsense">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-3798659133542290"
       data-ad-slot="634626837"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<div class="categoriesGrid" id="categoriesGrid"></div>
<div id="categoryMovies"></div>

<script>
const categories = [
  { name: "Cartoons", id: "animationandcartoons", thumb: "https://archive.org/download/animationandcartoons/thumbnail.jpg" },
  { name: "Anime", id: "anime", thumb: "https://archive.org/download/animationandcartoons/thumbnail.jpg" },
  { name: "Movies", id: "moviesandfilms", thumb: "https://archive.org/download/moviesandfilms/thumbnail.jpg" },
  { name: "Sports", id: "sports", thumb: "https://archive.org/download/sports/thumbnail.jpg" },
  { name: "Documentaries", id: "documentaryfilms", thumb: "https://archive.org/download/documentaryfilms/thumbnail.jpg" }
];

// Display categories
function displayCategories() {
  const grid = document.getElementById("categoriesGrid");
  categories.forEach(cat=>{
    const div = document.createElement("div");
    div.className="categoryCard";
    div.innerHTML=`<img src="${cat.thumb}" alt="${cat.name}"><h3>${cat.name}</h3>`;
    div.onclick=()=>loadCategory(cat.id, cat.name);
    grid.appendChild(div);
  });
}

// Load movies for a category
async function loadCategory(id,name){
  const container = document.getElementById("categoryMovies");
  container.innerHTML=`<h2 style="text-align:center;">${name}</h2><p style="text-align:center;">Loading...</p>`;
  try{
    const res=await fetch(`https://archive.org/advancedsearch.php?q=collection:${id}&fl[]=identifier,title&rows=50&page=1&output=json`);
    const data=await res.json();
    const grid=document.createElement("div"); grid.className="movieGrid";
    data.response.docs.forEach(movie=>{
      const card=document.createElement("div"); card.className="movieCard";
      card.innerHTML=`
        <img src="https://archive.org/services/img/${movie.identifier}" />
        <h3>${movie.title}</h3>
        <a class="btn" target="_blank" href="https://archive.org/details/${movie.identifier}">Stream</a>
      `;
      grid.appendChild(card);
    });
    container.innerHTML=`<h2 style="text-align:center;">${name}</h2>`;
    container.appendChild(grid);
  }catch(e){
    container.innerHTML=`<h2>${name}</h2><p style="text-align:center;">Failed to load movies.</p>`;
  }
}

// Search functionality
document.getElementById("searchBar").addEventListener("keypress", async e=>{
  if(e.key==="Enter"){
    const query=e.target.value.trim();
    if(!query) return;
    const container=document.getElementById("categoryMovies");
    container.innerHTML=`<h2 style="text-align:center;">Search Results for "${query}"</h2><p style="text-align:center;">Loading...</p>`;
    try{
      const res=await fetch(`https://archive.org/advancedsearch.php?q=${encodeURIComponent(query)}&fl[]=identifier,title&rows=50&page=1&output=json`);
      const data=await res.json();
      const grid=document.createElement("div"); grid.className="movieGrid";
      data.response.docs.forEach(movie=>{
        const card=document.createElement("div"); card.className="movieCard";
        card.innerHTML=`
          <img src="https://archive.org/services/img/${movie.identifier}" />
          <h3>${movie.title}</h3>
          <a class="btn" target="_blank" href="https://archive.org/details/${movie.identifier}">Stream</a>
        `;
        grid.appendChild(card);
      });
      container.innerHTML=`<h2 style="text-align:center;">Search Results for "${query}"</h2>`;
      container.appendChild(grid);
    }catch(err){
      container.innerHTML=`<h2>Search Results</h2><p style="text-align:center;">No results found.</p>`;
    }
  }
});

displayCategories();
</script>

</body>
</html>
